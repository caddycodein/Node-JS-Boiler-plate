import { MigrationInterface, QueryRunner } from 'typeorm';

class postrefactoring1670563732285 implements MigrationInterface {
    name = 'postrefactoring1670563732285';

    public async up(queryRunner: QueryRunner): Promise<void> {
        await queryRunner.query('CREATE TABLE "client_bank_id" ("id" uniqueidentifier NOT NULL, "client_id" varchar(255) NOT NULL, "is_enabled_in_management_software" bit NOT NULL, "enable_in_management_software_for" varchar(255) NOT NULL, "is_enabled_in_booking_portal" bit NOT NULL, "enable_in_booking_portal_for" varchar(255) NOT NULL, CONSTRAINT "PK_b6177cb239a7ef218770ab9c1ee" PRIMARY KEY ("client_id"))');
        await queryRunner.query('CREATE TABLE "client_creditcheck" ("client_creditcheck_Id" uniqueidentifier NOT NULL CONSTRAINT "DF_407686ecc2f7fab2a709b566c1d" DEFAULT NEWSEQUENTIALID(), "client_id" uniqueidentifier NOT NULL, "integrated_with" varchar(255) NOT NULL, "country_code" varchar(255) NOT NULL, "is_enabled_in_management_software" bit NOT NULL CONSTRAINT "DF_81cda2b462628878b1d81d0eb41" DEFAULT 0, "enable_in_management_software_for" varchar(255), "is_enabled_in_booking_portal" bit NOT NULL CONSTRAINT "DF_65b9966a8ed61487222860fcfd9" DEFAULT 0, "enable_in_booking_portal_for" varchar(255), "credit_check_validity" varchar(255), "credit_check_for_existing_clients" bit NOT NULL CONSTRAINT "DF_1c4ca123b1ab22d2ebd49ae06c8" DEFAULT 0, "initiated_by" varchar(255) NOT NULL, "created_on" date NOT NULL CONSTRAINT "DF_d28d77a5084bc4e3873e777eb98" DEFAULT getdate(), CONSTRAINT "UQ_27e62dace499db1b628c54d712e" UNIQUE ("client_id", "country_code", "integrated_with"), CONSTRAINT "PK_407686ecc2f7fab2a709b566c1d" PRIMARY KEY ("client_creditcheck_Id"))');
        await queryRunner.query('CREATE TABLE "client_esign" ("client_esign_id" uniqueidentifier NOT NULL CONSTRAINT "DF_d6e8662b90fc0ae9e2191d3de66" DEFAULT NEWSEQUENTIALID(), "client_id" uniqueidentifier NOT NULL, "integrated_with" varchar(255) NOT NULL, "country_code" varchar(255) NOT NULL, "is_enabled_in_management_software" bit NOT NULL CONSTRAINT "DF_cf6ec22215e964217c932caf54b" DEFAULT 0, "enable_in_management_software_for" varchar(255), "is_enabled_in_booking_portal" bit NOT NULL CONSTRAINT "DF_9ae398029f9c96a57b9519e3c47" DEFAULT 0, "enable_in_booking_portal_for" varchar(255), "esign_validity" varchar(255), "esign_link_expiry" varchar(255), "initiated_by" varchar(255) NOT NULL, "created_on" date NOT NULL CONSTRAINT "DF_d330d406795314ede32d19f3a49" DEFAULT getdate(), CONSTRAINT "UQ_dc9b7572b783d894ea9c993e36b" UNIQUE ("client_id", "country_code", "integrated_with"), CONSTRAINT "PK_d6e8662b90fc0ae9e2191d3de66" PRIMARY KEY ("client_esign_id"))');
        await queryRunner.query('CREATE TABLE "client_integrations" ("client_integrations_id" uniqueidentifier NOT NULL CONSTRAINT "DF_80e8d86641142bfabae996074e6" DEFAULT NEWSEQUENTIALID(), "client_id" uniqueidentifier NOT NULL, "integrated_with" varchar(255) NOT NULL, "country_code" varchar(255) NOT NULL, "third_party_account_id" varchar(255) NOT NULL CONSTRAINT "DF_dd1325bda109ceab65f200bfab9" DEFAULT \'a-spge-UL9Y3JklVdUW3XXNn7vR\', "third_party_client_id" varchar(255) NOT NULL, "third_party_client_secret" varchar(255) NOT NULL, "third_party_client_token" varchar(255), "third_party_domain" varchar(255) NOT NULL CONSTRAINT "DF_e990fce26b86e7bf0aecc44bf38" DEFAULT \'greenstarstorage.sandbox.signicat.com\', "enable_bank_id_verification" bit NOT NULL CONSTRAINT "DF_4a72614936e2daf29eb1875e2f3" DEFAULT 0, "enable_credit_check" bit NOT NULL CONSTRAINT "DF_cab610b98c1a4e54bbbfe0bfb95" DEFAULT 0, "enable_esign" bit NOT NULL CONSTRAINT "DF_f6e5c329fb2dbfa7c76d0eae61c" DEFAULT 0, "initiated_by" varchar(255) NOT NULL, "initiated_on" datetime NOT NULL CONSTRAINT "DF_9b0d0368bad8667c16249735d28" DEFAULT getdate(), "modified_by" varchar(255), "modified_on" datetime NOT NULL CONSTRAINT "DF_1f59265e920dbbbf78c4ff00ade" DEFAULT getdate(), CONSTRAINT "UQ_109dc809f816e1614280f287c09" UNIQUE ("client_id", "country_code", "integrated_with"), CONSTRAINT "PK_80e8d86641142bfabae996074e6" PRIMARY KEY ("client_integrations_id"))');
        await queryRunner.query('CREATE TABLE "creditcheck_master" ("creditcheck_master_id" int NOT NULL IDENTITY(1,1), "client_id" uniqueidentifier NOT NULL, "is_credit_check_app_enabled" bit NOT NULL, "initiated_by" varchar(255) NOT NULL, "initiated_on" datetime NOT NULL CONSTRAINT "DF_2078856660dbac9d527f5f7ce36" DEFAULT getdate(), "modified_by" varchar(255), "modified_on" datetime NOT NULL CONSTRAINT "DF_9f2ef1e8d3bed1af0bfa7597258" DEFAULT getdate(), CONSTRAINT "PK_04f606ca62bfeab285052a93770" PRIMARY KEY ("client_id"))');
        await queryRunner.query('CREATE TABLE "tenant_bankid_verification_details" ("tenant_bankid_verification_details_id" uniqueidentifier NOT NULL CONSTRAINT "DF_f8b6e13d5594295cfe90613a66a" DEFAULT NEWSEQUENTIALID(), "client_id" uniqueidentifier NOT NULL, "tenant_id" uniqueidentifier NOT NULL, "third_party_id" varchar(255) NOT NULL, "bankid_verification_url" text NOT NULL, "status" varchar(255) NOT NULL, "request_json" nvarchar(MAX), "response_json" nvarchar(MAX), "initiated_by" varchar(255) NOT NULL, "initiated_on" datetime NOT NULL CONSTRAINT "DF_15e5b0b4f0a8ca1e9e73ade1f8f" DEFAULT getdate(), "modified_by" varchar(255), "modified_on" datetime NOT NULL CONSTRAINT "DF_c3f80222482ae6a9c16d4c5c8f1" DEFAULT getdate(), CONSTRAINT "UQ_c5ad281e227826840068eacc9a2" UNIQUE ("client_id", "tenant_id"), CONSTRAINT "PK_f8b6e13d5594295cfe90613a66a" PRIMARY KEY ("tenant_bankid_verification_details_id"))');
        await queryRunner.query('CREATE TABLE "tenant_bankid_verification_history" ("tenant_bankid_verification_history_id" uniqueidentifier NOT NULL CONSTRAINT "DF_f0d0baaf13f550b2e14b8b900d0" DEFAULT NEWSEQUENTIALID(), "client_id" uniqueidentifier NOT NULL, "tenant_id" uniqueidentifier NOT NULL, "third_party_id" varchar(255) NOT NULL, "bankid_verification_url" text NOT NULL, "status" varchar(255) NOT NULL, "request_json" nvarchar(MAX), "response_json" nvarchar(MAX), "initiated_by" varchar(255) NOT NULL, "initiated_on" datetime NOT NULL CONSTRAINT "DF_c0d0b37d826f1f534b1a741a86c" DEFAULT getdate(), "modified_by" varchar(255), "modified_on" datetime NOT NULL CONSTRAINT "DF_a2597ad4375df415cb81af98f26" DEFAULT getdate(), CONSTRAINT "PK_f0d0baaf13f550b2e14b8b900d0" PRIMARY KEY ("tenant_bankid_verification_history_id"))');
        await queryRunner.query('CREATE TABLE "tenant_credit_check_details" ("tenant_credit_check_details_id" uniqueidentifier NOT NULL CONSTRAINT "DF_6564f2eb3e36346e710321989ea" DEFAULT NEWSEQUENTIALID(), "client_id" uniqueidentifier NOT NULL, "tenant_id" uniqueidentifier NOT NULL, "integrated_with" varchar(255) NOT NULL, "country_code" varchar(255) NOT NULL, "tenant_type" varchar(255) NOT NULL, "rating_system" varchar(255) NOT NULL, "credit_score" varchar(255) NOT NULL, "initiated_by" varchar(255) NOT NULL, "created_on" date NOT NULL CONSTRAINT "DF_762b93fd2fcfc92b6072cfea444" DEFAULT getdate(), CONSTRAINT "UQ_61622e073b4e7f3f5132141b499" UNIQUE ("client_id", "tenant_id", "country_code"), CONSTRAINT "PK_6564f2eb3e36346e710321989ea" PRIMARY KEY ("tenant_credit_check_details_id"))');
        await queryRunner.query('CREATE TABLE "tenant_credit_check_history" ("tenant_credit_check_details_id" uniqueidentifier NOT NULL CONSTRAINT "DF_abe2a3c9d41a254d5dfebca7bbd" DEFAULT NEWSEQUENTIALID(), "client_id" uniqueidentifier NOT NULL, "tenant_id" uniqueidentifier NOT NULL, "integrated_with" varchar(255) NOT NULL, "country_code" varchar(255) NOT NULL, "tenant_type" varchar(255) NOT NULL, "rating_system" varchar(255) NOT NULL, "credit_score" varchar(255) NOT NULL, "initiated_by" varchar(255) NOT NULL, "created_on" date NOT NULL CONSTRAINT "DF_a07120e6454534a84a53e59b8e0" DEFAULT getdate(), CONSTRAINT "UQ_7009842ac0c8b87cdb2080edb56" UNIQUE ("client_id", "tenant_id"), CONSTRAINT "PK_abe2a3c9d41a254d5dfebca7bbd" PRIMARY KEY ("tenant_credit_check_details_id"))');
    }

    public async down(queryRunner: QueryRunner): Promise<void> {
        await queryRunner.query('DROP TABLE "tenant_credit_check_history"');
        await queryRunner.query('DROP TABLE "tenant_credit_check_details"');
        await queryRunner.query('DROP TABLE "tenant_bankid_verification_history"');
        await queryRunner.query('DROP TABLE "tenant_bankid_verification_details"');
        await queryRunner.query('DROP TABLE "creditcheck_master"');
        await queryRunner.query('DROP TABLE "client_integrations"');
        await queryRunner.query('DROP TABLE "client_esign"');
        await queryRunner.query('DROP TABLE "client_creditcheck"');
        await queryRunner.query('DROP TABLE "client_bank_id"');
    }

}

export default postrefactoring1670563732285;
